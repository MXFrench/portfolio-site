---
import BaseLayout from "../layouts/BaseLayout.astro";
import type { SanityDocument } from "@sanity/client";
import { sanityClient } from "sanity:client";
import HeroSection from "../homeSections/HeroSection.astro";
import PortfolioSection from "../homeSections/PortfolioSection.astro";
import AboutSection from "../homeSections/AboutSection.astro";
import ContactSection from "../homeSections/ContactSection.astro";

const COPY_QUERY = `{
	"siteSettings": *[_type == "siteSettings"][0],
	"homepage": *[_type == "homepage"][0],
}`;

const { homepage, siteSettings } = await sanityClient.fetch<SanityDocument>(COPY_QUERY);

---
<BaseLayout title={siteSettings?.siteTitle} description={siteSettings?.description}>
	<HeroSection copy={homepage?.heroSection} />

	<PortfolioSection copy={homepage?.portfolioSection} />

	<AboutSection copy={homepage?.aboutSection} />

	<ContactSection copy={homepage?.contactSection} />
</BaseLayout>